const coverNode=document.getElementById("cover-sketch-div");let titleImgage,titleWidth,titleHeight,dims={w:coverNode.clientWidth,h:coverNode.clientHeight},leafImages=[],leaves=[],editionText="the digital edition!";const sketch=e=>{coverNode.onmouseleave=()=>{e.noLoop()},coverNode.onmouseenter=()=>{e.loop()},e.preload=()=>{e.loadImage("assets/img/sketches/dark1.png",e=>{leafImages.push(e),leafImages.push(e),leafImages.push(e)}),e.loadImage("assets/img/sketches/dark2.png",e=>{leafImages.push(e),leafImages.push(e),leafImages.push(e)}),e.loadImage("assets/img/sketches/highlight1.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sketches/highlight2.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sketches/highlight3.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sketches/title.png",e=>{titleImage=e})},e.setup=()=>{e.createCanvas(dims.w,dims.h);for(titleWidth=.7*e.width,titleHeight=titleWidth/titleImage.width*titleImage.height,e.imageMode(e.CENTER),e.rectMode(e.CENTER),e.textAlign(e.LEFT,e.CENTER),e.noStroke(),e.textSize(titleHeight/4),e.leafCols=e.min(e.round(e.width/25),30),e.leafRows=e.min(e.round(e.height/80),20),leaves=[],i=0;i<e.leafRows;i++){let t=[];for(j=0;j<e.leafCols;j++)t.push(e.random(leafImages));leaves.push(t)}},e.draw=()=>{e.background("#0e0e0e");let t=e.width/(e.leafCols-2),s=e.height/(e.leafRows-2);for(e.push(),e.translate(.5*-t,.75*-s),i=0;i<e.leafRows;i++){for(j=0;j<e.leafCols;j++){let s=e.noise(.03*i+.002*e.frameCount,.03*j+.002*e.frameCount),a=4*t/leaves[i][j].width;e.push(),e.scale(a,-a),e.rotate(e.TWO_PI*s*2),e.image(leaves[i][j],0,0),e.pop(),e.translate(t,0)}e.translate(-t*e.leafCols,s)}e.pop(),e.push(),e.imageMode(e.CENTER),e.translate(e.width/2,e.height/2),e.image(titleImage,0,0,titleWidth,titleHeight),e.fill("#355F6B"),e.rect(titleWidth/2-.55*e.textWidth(editionText),.4*titleHeight,1.1*e.textWidth(editionText),titleHeight/4+10),e.fill("#FCFAEE");let a=e.ceil(e.frameCount/6)%(editionText.length+20);e.text(editionText.slice(0,a),titleWidth/2-1.05*e.textWidth(editionText),.4*titleHeight),e.pop()},e.windowResized=()=>{dims={w:coverNode.clientWidth,h:coverNode.clientHeight},e.resizeCanvas(dims.w,dims.h)}};new p5(sketch,coverNode);